<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Experimental device-side USB stack for embedded devices."><meta name="keywords" content="rust, rustlang, rust-lang, usb_device"><title>usb_device - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../usb_device/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../usb_device/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate usb_device</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.2.9</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#enums">Enums</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">usb_device</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/usb_device/lib.rs.html#1-259">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Experimental device-side USB stack for embedded devices.</p>
<h3 id="implementing-a-usb-device"><a href="#implementing-a-usb-device">Implementing a USB device</a></h3>
<p>A USB device consists of a <a href="device/struct.UsbDevice.html"><code>UsbDevice</code></a> instance, one or more
<a href="class/trait.UsbClass.html"><code>UsbClass</code></a>es, and a platform-specific <a href="bus/trait.UsbBus.html"><code>UsbBus</code></a>
implementation which together form a USB composite device.</p>
<p>In the future USB device implementors will be able to use pre-existing peripheral driver crates
and USB class implementation crates. The necessary types for the basic USB composite device
implementation are available with:</p>
<p><code>use usb_device::prelude::*</code>.</p>
<p>See the <a href="device/index.html" title="device"><code>device</code></a> module for a more complete example.</p>
<h3 id="usb-classes"><a href="#usb-classes">USB classes</a></h3>
<p>For information on how to implement new USB classes, see the <a href="class/index.html" title="class"><code>class</code></a> module and the
<a href="test_class/struct.TestClass.html"><code>TestClass</code></a> source code for an example of a custom USB device class
implementation. The necessary types for creating new classes are available with:</p>
<p><code>use usb_device::class_prelude::*</code>.</p>
<h3 id="usb-peripheral-drivers"><a href="#usb-peripheral-drivers">USB peripheral drivers</a></h3>
<p>New peripheral driver crates can be created by implementing the <a href="bus/trait.UsbBus.html"><code>UsbBus</code></a> trait.</p>
<h2 id="note-about-terminology"><a href="#note-about-terminology">Note about terminology</a></h2>
<p>This crate uses standard host-centric USB terminology for transfer directions. Therefore an OUT
transfer refers to a host-to-device transfer, and an IN transfer refers to a device-to-host
transfer. This is mainly a concern for implementing new USB peripheral drivers and USB classes,
and people doing that should be familiar with the USB standard.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="bus/index.html" title="usb_device::bus mod">bus</a></div><div class="item-right docblock-short">For implementing peripheral drivers.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="class/index.html" title="usb_device::class mod">class</a></div><div class="item-right docblock-short">For implementing standard as well as vendor-specific USB classes.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="class_prelude/index.html" title="usb_device::class_prelude mod">class_prelude</a></div><div class="item-right docblock-short">Prelude for class implementors.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="control/index.html" title="usb_device::control mod">control</a></div><div class="item-right docblock-short">USB control transfers and the SETUP packet.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="descriptor/index.html" title="usb_device::descriptor mod">descriptor</a></div><div class="item-right docblock-short">Creating USB descriptors</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="device/index.html" title="usb_device::device mod">device</a></div><div class="item-right docblock-short">USB composite device.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="endpoint/index.html" title="usb_device::endpoint mod">endpoint</a></div><div class="item-right docblock-short">USB endpoints.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="usb_device::prelude mod">prelude</a></div><div class="item-right docblock-short">Prelude for device implementors.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="test_class/index.html" title="usb_device::test_class mod">test_class</a></div><div class="item-right docblock-short">Test USB class for testing USB driver implementations. Peripheral driver implementations should
include an example called “test_class” that creates a device with this class to enable the
driver to be tested with the test_class_host example in this crate.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UsbDirection.html" title="usb_device::UsbDirection enum">UsbDirection</a></div><div class="item-right docblock-short">Direction of USB traffic. Note that in the USB standard the direction is always indicated from
the perspective of the host, which is backward for devices, but the standard directions are used
for consistency.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UsbError.html" title="usb_device::UsbError enum">UsbError</a></div><div class="item-right docblock-short">A USB stack error.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Result.html" title="usb_device::Result type">Result</a></div><div class="item-right docblock-short">Result for USB operations.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="usb_device" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>